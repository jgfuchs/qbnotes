{% extends "layout.html" %}

{% block title %}
	: {{ group.name }}
{% endblock %}

{% block heading %}
	: <span><a href="{{ url_for('group_detail', group_id=group.id) }}">{{ group.name }}</a></span>
{% endblock %}

{% block body %}
	<table data-role="table" data-filter="true" class="ui-responsive">
		<thead>
			<tr>
				<th data-priority="1">Title</th>
				<th data-priority="2">Creator</th>
			</tr>
		</thead>
		
		<tbody>
			{% for entry in group.entries.all() %}
				<tr>
					<td><a href="{{ url_for('entry_detail', entry_id=entry.id) }}">{{ entry.title }}</a></td>
					<td>{{ entry.creator }}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
	
	<br />
	
	<button id=new-button>Add new</button>
	
	<form action="{{ url_for('new_entry') }}" method=post id=new-entry style="display: none" data-ajax="false">
		<input type=hidden value={{ group.id }} name=group_id />
		<input type=text size=30 name=title placeholder="Title" />
		<input type=text size=30 name=creator placeholder="Creator" />
		<textarea cols=30 rows=5 name=notes placeholder="Notes"></textarea>
		<input type=submit value="Add">
		<input type=button value="Cancel" id="cancel-button">
	</form>
	
	<script type="text/javascript">
		function switch_mode() {
			$("#new-button").toggle();
			$("#new-entry").toggle();
		}
		
		$("#new-button").click(switch_mode);
		$("#cancel-button").click(switch_mode);
	</script>
{% endblock %}
